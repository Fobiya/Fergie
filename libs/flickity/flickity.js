(function(window){var slice=Array.prototype.slice;function noop(){}function defineBridget($){if(!$){return}function addOptionMethod(PluginClass){if(PluginClass.prototype.option){return}PluginClass.prototype.option=function(opts){if(!$.isPlainObject(opts)){return}this.options=$.extend(true,this.options,opts)}}var logError=typeof console==='undefined'?noop:function(message){console.error(message)};function bridge(namespace,PluginClass){$.fn[namespace]=function(options){if(typeof options==='string'){var args=slice.call(arguments,1);for(var i=0,len=this.length;i<len;i++){var elem=this[i];var instance=$.data(elem,namespace);if(!instance){logError("cannot call methods on "+namespace+" prior to initialization; "+"attempted to call '"+options+"'");continue}if(!$.isFunction(instance[options])||options.charAt(0)==='_'){logError("no such method '"+options+"' for "+namespace+" instance");continue}var returnValue=instance[options].apply(instance,args);if(returnValue!==undefined){return returnValue}}return this}else{return this.each(function(){var instance=$.data(this,namespace);if(instance){instance.option(options);instance._init()}else{instance=new PluginClass(this,options);$.data(this,namespace,instance)}})}}}$.bridget=function(namespace,PluginClass){addOptionMethod(PluginClass);bridge(namespace,PluginClass)};return $.bridget}if(typeof define==='function'&&define.amd){define('jquery-bridget/jquery.bridget',['jquery'],defineBridget)}else if(typeof exports==='object'){defineBridget(require('jquery'))}else{defineBridget(window.jQuery)}})(window);(function(window){function classReg(className){return new RegExp("(^|\\s+)"+className+"(\\s+|$)")}var hasClass,addClass,removeClass;if('classList'in document.documentElement){hasClass=function(elem,c){return elem.classList.contains(c)};addClass=function(elem,c){elem.classList.add(c)};removeClass=function(elem,c){elem.classList.remove(c)}}else{hasClass=function(elem,c){return classReg(c).test(elem.className)};addClass=function(elem,c){if(!hasClass(elem,c)){elem.className=elem.className+' '+c}};removeClass=function(elem,c){elem.className=elem.className.replace(classReg(c),' ')}}function toggleClass(elem,c){var fn=hasClass(elem,c)?removeClass:addClass;fn(elem,c)}var classie={hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,has:hasClass,add:addClass,remove:removeClass,toggle:toggleClass};if(typeof define==='function'&&define.amd){define('classie/classie',classie)}else if(typeof exports==='object'){module.exports=classie}else{window.classie=classie}})(window);(function(){'use strict';function EventEmitter(){}var proto=EventEmitter.prototype;var exports=this;var originalGlobalValue=exports.EventEmitter;function indexOfListener(listeners,listener){var i=listeners.length;while(i--){if(listeners[i].listener===listener){return i}}return-1}function alias(name){return function aliasClosure(){return this[name].apply(this,arguments)}}proto.getListeners=function getListeners(evt){var events=this._getEvents();var response;var key;if(evt instanceof RegExp){response={};for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){response[key]=events[key]}}}else{response=events[evt]||(events[evt]=[])}return response};proto.flattenListeners=function flattenListeners(listeners){var flatListeners=[];var i;for(i=0;i<listeners.length;i+=1){flatListeners.push(listeners[i].listener)}return flatListeners};proto.getListenersAsObject=function getListenersAsObject(evt){var listeners=this.getListeners(evt);var response;if(listeners instanceof Array){response={};response[evt]=listeners}return response||listeners};proto.addListener=function addListener(evt,listener){var listeners=this.getListenersAsObject(evt);var listenerIsWrapped=typeof listener==='object';var key;for(key in listeners){if(listeners.hasOwnProperty(key)&&indexOfListener(listeners[key],listener)===-1){listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:false})}}return this};proto.on=alias('addListener');proto.addOnceListener=function addOnceListener(evt,listener){return this.addListener(evt,{listener:listener,once:true})};proto.once=alias('addOnceListener');proto.defineEvent=function defineEvent(evt){this.getListeners(evt);return this};proto.defineEvents=function defineEvents(evts){for(var i=0;i<evts.length;i+=1){this.defineEvent(evts[i])}return this};proto.removeListener=function removeListener(evt,listener){var listeners=this.getListenersAsObject(evt);var index;var key;for(key in listeners){if(listeners.hasOwnProperty(key)){index=indexOfListener(listeners[key],listener);if(index!==-1){listeners[key].splice(index,1)}}}return this};proto.off=alias('removeListener');proto.addListeners=function addListeners(evt,listeners){return this.manipulateListeners(false,evt,listeners)};proto.removeListeners=function removeListeners(evt,listeners){return this.manipulateListeners(true,evt,listeners)};proto.manipulateListeners=function manipulateListeners(remove,evt,listeners){var i;var value;var single=remove?this.removeListener:this.addListener;var multiple=remove?this.removeListeners:this.addListeners;if(typeof evt==='object'&&!(evt instanceof RegExp)){for(i in evt){if(evt.hasOwnProperty(i)&&(value=evt[i])){if(typeof value==='function'){single.call(this,i,value)}else{multiple.call(this,i,value)}}}}else{i=listeners.length;while(i--){single.call(this,evt,listeners[i])}}return this};proto.removeEvent=function removeEvent(evt){var type=typeof evt;var events=this._getEvents();var key;if(type==='string'){delete events[evt]}else if(evt instanceof RegExp){for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){delete events[key]}}}else{delete this._events}return this};proto.removeAllListeners=alias('removeEvent');proto.emitEvent=function emitEvent(evt,args){var listeners=this.getListenersAsObject(evt);var listener;var i;var key;var response;for(key in listeners){if(listeners.hasOwnProperty(key)){i=listeners[key].length;while(i--){listener=listeners[key][i];if(listener.once===true){this.removeListener(evt,listener.listener)}response=listener.listener.apply(this,args||[]);if(response===this._getOnceReturnValue()){this.removeListener(evt,listener.listener)}}}}return this};proto.trigger=alias('emitEvent');proto.emit=function emit(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args)};proto.setOnceReturnValue=function setOnceReturnValue(value){this._onceReturnValue=value;return this};proto._getOnceReturnValue=function _getOnceReturnValue(){if(this.hasOwnProperty('_onceReturnValue')){return this._onceReturnValue}else{return true}};proto._getEvents=function _getEvents(){return this._events||(this._events={})};EventEmitter.noConflict=function noConflict(){exports.EventEmitter=originalGlobalValue;return EventEmitter};if(typeof define==='function'&&define.amd){define('eventEmitter/EventEmitter',[],function(){return EventEmitter})}else if(typeof module==='object'&&module.exports){module.exports=EventEmitter}else{exports.EventEmitter=EventEmitter}}.call(this));(function(window){var docElem=document.documentElement;var bind=function(){};function getIEEvent(obj){var event=window.event;event.target=event.target||event.srcElement||obj;return event}if(docElem.addEventListener){bind=function(obj,type,fn){obj.addEventListener(type,fn,false)}}else if(docElem.attachEvent){bind=function(obj,type,fn){obj[type+fn]=fn.handleEvent?function(){var event=getIEEvent(obj);fn.handleEvent.call(fn,event)}:function(){var event=getIEEvent(obj);fn.call(obj,event)};obj.attachEvent("on"+type,obj[type+fn])}}var unbind=function(){};if(docElem.removeEventListener){unbind=function(obj,type,fn){obj.removeEventListener(type,fn,false)}}else if(docElem.detachEvent){unbind=function(obj,type,fn){obj.detachEvent("on"+type,obj[type+fn]);try{delete obj[type+fn]}catch(err){obj[type+fn]=undefined}}}var eventie={bind:bind,unbind:unbind};if(typeof define==='function'&&define.amd){define('eventie/eventie',eventie)}else if(typeof exports==='object'){module.exports=eventie}else{window.eventie=eventie}})(window);(function(window){var prefixes='Webkit Moz ms Ms O'.split(' ');var docElemStyle=document.documentElement.style;function getStyleProperty(propName){if(!propName){return}if(typeof docElemStyle[propName]==='string'){return propName}propName=propName.charAt(0).toUpperCase()+propName.slice(1);var prefixed;for(var i=0,len=prefixes.length;i<len;i++){prefixed=prefixes[i]+propName;if(typeof docElemStyle[prefixed]==='string'){return prefixed}}}if(typeof define==='function'&&define.amd){define('get-style-property/get-style-property',[],function(){return getStyleProperty})}else if(typeof exports==='object'){module.exports=getStyleProperty}else{window.getStyleProperty=getStyleProperty}})(window);(function(window,undefined){function getStyleSize(value){var num=parseFloat(value);var isValid=value.indexOf('%')===-1&&!isNaN(num);return isValid&&num}function noop(){}var logError=typeof console==='undefined'?noop:function(message){console.error(message)};var measurements=['paddingLeft','paddingRight','paddingTop','paddingBottom','marginLeft','marginRight','marginTop','marginBottom','borderLeftWidth','borderRightWidth','borderTopWidth','borderBottomWidth'];function getZeroSize(){var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var i=0,len=measurements.length;i<len;i++){var measurement=measurements[i];size[measurement]=0}return size}function defineGetSize(getStyleProperty){var isSetup=false;var getStyle,boxSizingProp,isBoxSizeOuter;function setup(){if(isSetup){return}isSetup=true;var getComputedStyle=window.getComputedStyle;getStyle=(function(){var getStyleFn=getComputedStyle?function(elem){return getComputedStyle(elem,null)}:function(elem){return elem.currentStyle};return function getStyle(elem){var style=getStyleFn(elem);if(!style){logError('Style returned '+style+'. Are you running this code in a hidden iframe on Firefox? '+'See http://bit.ly/getsizebug1')}return style}})();boxSizingProp=getStyleProperty('boxSizing');if(boxSizingProp){var div=document.createElement('div');div.style.width='200px';div.style.padding='1px 2px 3px 4px';div.style.borderStyle='solid';div.style.borderWidth='1px 2px 3px 4px';div.style[boxSizingProp]='border-box';var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);isBoxSizeOuter=getStyleSize(style.width)===200;body.removeChild(div)}}function getSize(elem){setup();if(typeof elem==='string'){elem=document.querySelector(elem)}if(!elem||typeof elem!=='object'||!elem.nodeType){return}var style=getStyle(elem);if(style.display==='none'){return getZeroSize()}var size={};size.width=elem.offsetWidth;size.height=elem.offsetHeight;var isBorderBox=size.isBorderBox=!!(boxSizingProp&&style[boxSizingProp]&&style[boxSizingProp]==='border-box');for(var i=0,len=measurements.length;i<len;i++){var measurement=measurements[i];var value=style[measurement];value=mungeNonPixel(elem,value);var num=parseFloat(value);size[measurement]=!isNaN(num)?num:0}var paddingWidth=size.paddingLeft+size.paddingRight;var paddingHeight=size.paddingTop+size.paddingBottom;var marginWidth=size.marginLeft+size.marginRight;var marginHeight=size.marginTop+size.marginBottom;var borderWidth=size.borderLeftWidth+size.borderRightWidth;var borderHeight=size.borderTopWidth+size.borderBottomWidth;var isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter;var styleWidth=getStyleSize(style.width);if(styleWidth!==false){size.width=styleWidth+(isBorderBoxSizeOuter?0:paddingWidth+borderWidth)}var styleHeight=getStyleSize(style.height);if(styleHeight!==false){size.height=styleHeight+(isBorderBoxSizeOuter?0:paddingHeight+borderHeight)}size.innerWidth=size.width-(paddingWidth+borderWidth);size.innerHeight=size.height-(paddingHeight+borderHeight);size.outerWidth=size.width+marginWidth;size.outerHeight=size.height+marginHeight;return size}function mungeNonPixel(elem,value){if(window.getComputedStyle||value.indexOf('%')===-1){return value}var style=elem.style;var left=style.left;var rs=elem.runtimeStyle;var rsLeft=rs&&rs.left;if(rsLeft){rs.left=elem.currentStyle.left}style.left=value;value=style.pixelLeft;style.left=left;if(rsLeft){rs.left=rsLeft}return value}return getSize}if(typeof define==='function'&&define.amd){define('get-size/get-size',['get-style-property/get-style-property'],defineGetSize)}else if(typeof exports==='object'){module.exports=defineGetSize(require('desandro-get-style-property'))}else{window.getSize=defineGetSize(window.getStyleProperty)}})(window);(function(window){var document=window.document;var queue=[];function docReady(fn){if(typeof fn!=='function'){return}if(docReady.isReady){fn()}else{queue.push(fn)}}docReady.isReady=false;function onReady(event){var isIE8NotReady=event.type==='readystatechange'&&document.readyState!=='complete';if(docReady.isReady||isIE8NotReady){return}trigger()}function trigger(){docReady.isReady=true;for(var i=0,len=queue.length;i<len;i++){var fn=queue[i];fn()}}function defineDocReady(eventie){if(document.readyState==='complete'){trigger()}else{eventie.bind(document,'DOMContentLoaded',onReady);eventie.bind(document,'readystatechange',onReady);eventie.bind(window,'load',onReady)}return docReady}if(typeof define==='function'&&define.amd){define('doc-ready/doc-ready',['eventie/eventie'],defineDocReady)}else if(typeof exports==='object'){module.exports=defineDocReady(require('eventie'))}else{window.docReady=defineDocReady(window.eventie)}})(window);(function(ElemProto){'use strict';var matchesMethod=(function(){if(ElemProto.matches){return'matches'}if(ElemProto.matchesSelector){return'matchesSelector'}var prefixes=['webkit','moz','ms','o'];for(var i=0,len=prefixes.length;i<len;i++){var prefix=prefixes[i];var method=prefix+'MatchesSelector';if(ElemProto[method]){return method}}})();function match(elem,selector){return elem[matchesMethod](selector)}function checkParent(elem){if(elem.parentNode){return}var fragment=document.createDocumentFragment();fragment.appendChild(elem)}function query(elem,selector){checkParent(elem);var elems=elem.parentNode.querySelectorAll(selector);for(var i=0,len=elems.length;i<len;i++){if(elems[i]===elem){return true}}return false}function matchChild(elem,selector){checkParent(elem);return match(elem,selector)}var matchesSelector;if(matchesMethod){var div=document.createElement('div');var supportsOrphans=match(div,'div');matchesSelector=supportsOrphans?match:matchChild}else{matchesSelector=query}if(typeof define==='function'&&define.amd){define('matches-selector/matches-selector',[],function(){return matchesSelector})}else if(typeof exports==='object'){module.exports=matchesSelector}else{window.matchesSelector=matchesSelector}})(Element.prototype);(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('fizzy-ui-utils/utils',['doc-ready/doc-ready','matches-selector/matches-selector'],function(docReady,matchesSelector){return factory(window,docReady,matchesSelector)})}else if(typeof exports=='object'){module.exports=factory(window,require('doc-ready'),require('desandro-matches-selector'))}else{window.fizzyUIUtils=factory(window,window.docReady,window.matchesSelector)}}(window,function factory(window,docReady,matchesSelector){var utils={};utils.extend=function(a,b){for(var prop in b){a[prop]=b[prop]}return a};utils.modulo=function(num,div){return((num%div)+div)%div};var objToString=Object.prototype.toString;utils.isArray=function(obj){return objToString.call(obj)=='[object Array]'};utils.makeArray=function(obj){var ary=[];if(utils.isArray(obj)){ary=obj}else if(obj&&typeof obj.length=='number'){for(var i=0,len=obj.length;i<len;i++){ary.push(obj[i])}}else{ary.push(obj)}return ary};utils.indexOf=Array.prototype.indexOf?function(ary,obj){return ary.indexOf(obj)}:function(ary,obj){for(var i=0,len=ary.length;i<len;i++){if(ary[i]===obj){return i}}return-1};utils.removeFrom=function(ary,obj){var index=utils.indexOf(ary,obj);if(index!=-1){ary.splice(index,1)}};utils.isElement=(typeof HTMLElement=='function'||typeof HTMLElement=='object')?function isElementDOM2(obj){return obj instanceof HTMLElement}:function isElementQuirky(obj){return obj&&typeof obj=='object'&&obj.nodeType==1&&typeof obj.nodeName=='string'};utils.setText=(function(){var setTextProperty;function setText(elem,text){setTextProperty=setTextProperty||(document.documentElement.textContent!==undefined?'textContent':'innerText');elem[setTextProperty]=text}return setText})();utils.getParent=function(elem,selector){while(elem!=document.body){elem=elem.parentNode;if(matchesSelector(elem,selector)){return elem}}};utils.getQueryElement=function(elem){if(typeof elem=='string'){return document.querySelector(elem)}return elem};utils.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event)}};utils.filterFindElements=function(elems,selector){elems=utils.makeArray(elems);var ffElems=[];for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];if(!utils.isElement(elem)){continue}if(selector){if(matchesSelector(elem,selector)){ffElems.push(elem)}var childElems=elem.querySelectorAll(selector);for(var j=0,jLen=childElems.length;j<jLen;j++){ffElems.push(childElems[j])}}else{ffElems.push(elem)}}return ffElems};utils.debounceMethod=function(_class,methodName,threshold){var method=_class.prototype[methodName];var timeoutName=methodName+'Timeout';_class.prototype[methodName]=function(){var timeout=this[timeoutName];if(timeout){clearTimeout(timeout)}var args=arguments;var _this=this;this[timeoutName]=setTimeout(function(){method.apply(_this,args);delete _this[timeoutName]},threshold||100)}};utils.toDashed=function(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+'-'+$2}).toLowerCase()};var console=window.console;utils.htmlInit=function(WidgetClass,namespace){docReady(function(){var dashedNamespace=utils.toDashed(namespace);var elems=document.querySelectorAll('.js-'+dashedNamespace);var dataAttr='data-'+dashedNamespace+'-options';for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];var attr=elem.getAttribute(dataAttr);var options;try{options=attr&&JSON.parse(attr)}catch(error){if(console){console.error('Error parsing '+dataAttr+' on '+elem.nodeName.toLowerCase()+(elem.id?'#'+elem.id:'')+': '+error)}continue}var instance=new WidgetClass(elem,options);var jQuery=window.jQuery;if(jQuery){jQuery.data(elem,namespace,instance)}}})};return utils}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('flickity/js/cell',['get-size/get-size'],function(getSize){return factory(window,getSize)})}else if(typeof exports=='object'){module.exports=factory(window,require('get-size'))}else{window.Flickity=window.Flickity||{};window.Flickity.Cell=factory(window,window.getSize)}}(window,function factory(window,getSize){function Cell(elem,parent){this.element=elem;this.parent=parent;this.create()}var isIE8='attachEvent'in window;Cell.prototype.create=function(){this.element.style.position='absolute';if(isIE8){this.element.setAttribute('unselectable','on')}this.x=0;this.shift=0};Cell.prototype.destroy=function(){this.element.style.position='';var side=this.parent.originSide;this.element.style[side]=''};Cell.prototype.getSize=function(){this.size=getSize(this.element)};Cell.prototype.setPosition=function(x){this.x=x;this.setDefaultTarget();this.renderPosition(x)};Cell.prototype.setDefaultTarget=function(){var marginProperty=this.parent.originSide=='left'?'marginLeft':'marginRight';this.target=this.x+this.size[marginProperty]+this.size.width*this.parent.cellAlign};Cell.prototype.renderPosition=function(x){var side=this.parent.originSide;this.element.style[side]=this.parent.getPositionValue(x)};Cell.prototype.wrapShift=function(shift){this.shift=shift;this.renderPosition(this.x+this.parent.slideableWidth*shift)};Cell.prototype.remove=function(){this.element.parentNode.removeChild(this.element)};return Cell}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('flickity/js/animate',['get-style-property/get-style-property','fizzy-ui-utils/utils'],function(getStyleProperty,utils){return factory(window,getStyleProperty,utils)})}else if(typeof exports=='object'){module.exports=factory(window,require('desandro-get-style-property'),require('fizzy-ui-utils'))}else{window.Flickity=window.Flickity||{};window.Flickity.animatePrototype=factory(window,window.getStyleProperty,window.fizzyUIUtils)}}(window,function factory(window,getStyleProperty,utils){var lastTime=0;var prefixes='webkit moz ms o'.split(' ');var requestAnimationFrame=window.requestAnimationFrame;var cancelAnimationFrame=window.cancelAnimationFrame;var prefix;for(var i=0;i<prefixes.length;i++){if(requestAnimationFrame&&cancelAnimationFrame){break}prefix=prefixes[i];requestAnimationFrame=requestAnimationFrame||window[prefix+'RequestAnimationFrame'];cancelAnimationFrame=cancelAnimationFrame||window[prefix+'CancelAnimationFrame']||window[prefix+'CancelRequestAnimationFrame']}if(!requestAnimationFrame||!cancelAnimationFrame){requestAnimationFrame=function(callback){var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id};cancelAnimationFrame=function(id){window.clearTimeout(id)}}var proto={};proto.startAnimation=function(){if(this.isAnimating){return}this.isAnimating=true;this.restingFrames=0;this.animate()};proto.animate=function(){this.applyDragForce();this.applySelectedAttraction();var previousX=this.x;this.integratePhysics();this.positionSlider();this.settle(previousX);if(this.isAnimating){var _this=this;requestAnimationFrame(function animateFrame(){_this.animate()})}};var transformProperty=getStyleProperty('transform');var is3d=!!getStyleProperty('perspective');proto.positionSlider=function(){var x=this.x;if(this.options.wrapAround&&this.cells.length>1){x=utils.modulo(x,this.slideableWidth);x=x-this.slideableWidth;this.shiftWrapCells(x)}x=x+this.cursorPosition;x=this.options.rightToLeft&&transformProperty?-x:x;var value=this.getPositionValue(x);if(transformProperty){this.slider.style[transformProperty]=is3d&&this.isAnimating?'translate3d('+value+',0,0)':'translateX('+value+')'}else{this.slider.style[this.originSide]=value}};proto.positionSliderAtSelected=function(){if(!this.cells.length){return}var selectedCell=this.cells[this.selectedIndex];this.x=-selectedCell.target;this.positionSlider()};proto.getPositionValue=function(position){if(this.options.percentPosition){return(Math.round((position/this.size.innerWidth)*10000)*0.01)+'%'}else{return Math.round(position)+'px'}};proto.settle=function(previousX){if(!this.isPointerDown&&Math.round(this.x*100)==Math.round(previousX*100)){this.restingFrames++}if(this.restingFrames>2){this.isAnimating=false;delete this.isFreeScrolling;if(is3d){this.positionSlider()}this.dispatchEvent('settle')}};proto.shiftWrapCells=function(x){var beforeGap=this.cursorPosition+x;this._shiftCells(this.beforeShiftCells,beforeGap,-1);var afterGap=this.size.innerWidth-(x+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,afterGap,1)};proto._shiftCells=function(cells,gap,shift){for(var i=0,len=cells.length;i<len;i++){var cell=cells[i];var cellShift=gap>0?shift:0;cell.wrapShift(cellShift);gap-=cell.size.outerWidth}};proto._unshiftCells=function(cells){if(!cells||!cells.length){return}for(var i=0,len=cells.length;i<len;i++){cells[i].wrapShift(0)}};proto.integratePhysics=function(){this.velocity+=this.accel;this.x+=this.velocity;this.velocity*=this.getFrictionFactor();this.accel=0};proto.applyForce=function(force){this.accel+=force};proto.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?'freeScrollFriction':'friction']};proto.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())};proto.applyDragForce=function(){if(!this.isPointerDown){return}var dragVelocity=this.dragX-this.x;var dragForce=dragVelocity-this.velocity;this.applyForce(dragForce)};proto.applySelectedAttraction=function(){var len=this.cells.length;if(this.isPointerDown||this.isFreeScrolling||!len){return}var cell=this.cells[this.selectedIndex];var wrap=this.options.wrapAround&&len>1?this.slideableWidth*Math.floor(this.selectedIndex/len):0;var distance=(cell.target+wrap)*-1-this.x;var force=distance*this.options.selectedAttraction;this.applyForce(force)};return proto}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('flickity/js/flickity',['classie/classie','eventEmitter/EventEmitter','eventie/eventie','get-size/get-size','fizzy-ui-utils/utils','./cell','./animate'],function(classie,EventEmitter,eventie,getSize,utils,Cell,animatePrototype){return factory(window,classie,EventEmitter,eventie,getSize,utils,Cell,animatePrototype)})}else if(typeof exports=='object'){module.exports=factory(window,require('desandro-classie'),require('wolfy87-eventemitter'),require('eventie'),require('get-size'),require('fizzy-ui-utils'),require('./cell'),require('./animate'))}else{var _Flickity=window.Flickity;window.Flickity=factory(window,window.classie,window.EventEmitter,window.eventie,window.getSize,window.fizzyUIUtils,_Flickity.Cell,_Flickity.animatePrototype)}}(window,function factory(window,classie,EventEmitter,eventie,getSize,utils,Cell,animatePrototype){var jQuery=window.jQuery;var getComputedStyle=window.getComputedStyle;var console=window.console;function moveElements(elems,toElem){elems=utils.makeArray(elems);while(elems.length){toElem.appendChild(elems.shift())}}var GUID=0;var instances={};function Flickity(element,options){var queryElement=utils.getQueryElement(element);if(!queryElement){if(console){console.error('Bad element for Flickity: '+(queryElement||element))}return}this.element=queryElement;if(jQuery){this.$element=jQuery(this.element)}this.options=utils.extend({},this.constructor.defaults);this.option(options);this._create()}Flickity.defaults={accessibility:true,cellAlign:'center',freeScrollFriction:0.075,friction:0.28,percentPosition:true,resize:true,selectedAttraction:0.025,setGallerySize:true};Flickity.createMethods=[];utils.extend(Flickity.prototype,EventEmitter.prototype);Flickity.prototype._create=function(){var id=this.guid=++GUID;this.element.flickityGUID=id;instances[id]=this;this.selectedIndex=0;this.restingFrames=0;this.x=0;this.velocity=0;this.accel=0;this.originSide=this.options.rightToLeft?'right':'left';this.viewport=document.createElement('div');this.viewport.className='flickity-viewport';Flickity.setUnselectable(this.viewport);this._createSlider();if(this.options.resize||this.options.watchCSS){eventie.bind(window,'resize',this);this.isResizeBound=true}for(var i=0,len=Flickity.createMethods.length;i<len;i++){var method=Flickity.createMethods[i];this[method]()}if(this.options.watchCSS){this.watchCSS()}else{this.activate()}};Flickity.prototype.option=function(opts){utils.extend(this.options,opts)};Flickity.prototype.activate=function(){if(this.isActive){return}this.isActive=true;classie.add(this.element,'flickity-enabled');if(this.options.rightToLeft){classie.add(this.element,'flickity-rtl')}this.getSize();var cellElems=this._filterFindCellElements(this.element.children);moveElements(cellElems,this.slider);this.viewport.appendChild(this.slider);this.element.appendChild(this.viewport);this.reloadCells();if(this.options.accessibility){this.element.tabIndex=0;eventie.bind(this.element,'keydown',this)}this.emit('activate');var index;var initialIndex=this.options.initialIndex;if(this.isInitActivated){index=this.selectedIndex}else if(initialIndex!==undefined){index=this.cells[initialIndex]?initialIndex:0}else{index=0}this.select(index,false,true);this.isInitActivated=true};Flickity.prototype._createSlider=function(){var slider=document.createElement('div');slider.className='flickity-slider';slider.style[this.originSide]=0;this.slider=slider};Flickity.prototype._filterFindCellElements=function(elems){return utils.filterFindElements(elems,this.options.cellSelector)};Flickity.prototype.reloadCells=function(){this.cells=this._makeCells(this.slider.children);this.positionCells();this._getWrapShiftCells();this.setGallerySize()};Flickity.prototype._makeCells=function(elems){var cellElems=this._filterFindCellElements(elems);var cells=[];for(var i=0,len=cellElems.length;i<len;i++){var elem=cellElems[i];var cell=new Cell(elem,this);cells.push(cell)}return cells};Flickity.prototype.getLastCell=function(){return this.cells[this.cells.length-1]};Flickity.prototype.positionCells=function(){this._sizeCells(this.cells);this._positionCells(0)};Flickity.prototype._positionCells=function(index){index=index||0;this.maxCellHeight=index?this.maxCellHeight||0:0;var cellX=0;if(index>0){var startCell=this.cells[index-1];cellX=startCell.x+startCell.size.outerWidth}var cell;for(var len=this.cells.length,i=index;i<len;i++){cell=this.cells[i];cell.setPosition(cellX);cellX+=cell.size.outerWidth;this.maxCellHeight=Math.max(cell.size.outerHeight,this.maxCellHeight)}this.slideableWidth=cellX;this._containCells()};Flickity.prototype._sizeCells=function(cells){for(var i=0,len=cells.length;i<len;i++){var cell=cells[i];cell.getSize()}};Flickity.prototype._init=Flickity.prototype.reposition=function(){this.positionCells();this.positionSliderAtSelected()};Flickity.prototype.getSize=function(){this.size=getSize(this.element);this.setCellAlign();this.cursorPosition=this.size.innerWidth*this.cellAlign};var cellAlignShorthands={center:{left:0.5,right:0.5},left:{left:0,right:1},right:{right:0,left:1}};Flickity.prototype.setCellAlign=function(){var shorthand=cellAlignShorthands[this.options.cellAlign];this.cellAlign=shorthand?shorthand[this.originSide]:this.options.cellAlign};Flickity.prototype.setGallerySize=function(){if(this.options.setGallerySize){this.viewport.style.height=this.maxCellHeight+'px'}};Flickity.prototype._getWrapShiftCells=function(){if(!this.options.wrapAround){return}this._unshiftCells(this.beforeShiftCells);this._unshiftCells(this.afterShiftCells);var gapX=this.cursorPosition;var cellIndex=this.cells.length-1;this.beforeShiftCells=this._getGapCells(gapX,cellIndex,-1);gapX=this.size.innerWidth-this.cursorPosition;this.afterShiftCells=this._getGapCells(gapX,0,1)};Flickity.prototype._getGapCells=function(gapX,cellIndex,increment){var cells=[];while(gapX>0){var cell=this.cells[cellIndex];if(!cell){break}cells.push(cell);cellIndex+=increment;gapX-=cell.size.outerWidth}return cells};Flickity.prototype._containCells=function(){if(!this.options.contain||this.options.wrapAround||!this.cells.length){return}var startMargin=this.options.rightToLeft?'marginRight':'marginLeft';var endMargin=this.options.rightToLeft?'marginLeft':'marginRight';var firstCellStartMargin=this.cells[0].size[startMargin];var lastCell=this.getLastCell();var contentWidth=this.slideableWidth-lastCell.size[endMargin];var endLimit=contentWidth-this.size.innerWidth*(1-this.cellAlign);var isContentSmaller=contentWidth<this.size.innerWidth;for(var i=0,len=this.cells.length;i<len;i++){var cell=this.cells[i];cell.setDefaultTarget();if(isContentSmaller){cell.target=contentWidth*this.cellAlign}else{cell.target=Math.max(cell.target,this.cursorPosition+firstCellStartMargin);cell.target=Math.min(cell.target,endLimit)}}};Flickity.prototype.dispatchEvent=function(type,event,args){var emitArgs=[event].concat(args);this.emitEvent(type,emitArgs);if(jQuery&&this.$element){if(event){var $event=jQuery.Event(event);$event.type=type;this.$element.trigger($event,args)}else{this.$element.trigger(type,args)}}};Flickity.prototype.select=function(index,isWrap,isInstant){if(!this.isActive){return}index=parseInt(index,10);var len=this.cells.length;if(this.options.wrapAround&&len>1){if(index<0){this.x-=this.slideableWidth}else if(index>=len){this.x+=this.slideableWidth}}if(this.options.wrapAround||isWrap){index=utils.modulo(index,len)}if(!this.cells[index]){return}this.selectedIndex=index;this.setSelectedCell();if(isInstant){this.positionSliderAtSelected()}else{this.startAnimation()}this.dispatchEvent('cellSelect')};Flickity.prototype.previous=function(isWrap){this.select(this.selectedIndex-1,isWrap)};Flickity.prototype.next=function(isWrap){this.select(this.selectedIndex+1,isWrap)};Flickity.prototype.setSelectedCell=function(){this._removeSelectedCellClass();this.selectedCell=this.cells[this.selectedIndex];this.selectedElement=this.selectedCell.element;classie.add(this.selectedElement,'is-selected')};Flickity.prototype._removeSelectedCellClass=function(){if(this.selectedCell){classie.remove(this.selectedCell.element,'is-selected')}};Flickity.prototype.getCell=function(elem){for(var i=0,len=this.cells.length;i<len;i++){var cell=this.cells[i];if(cell.element==elem){return cell}}};Flickity.prototype.getCells=function(elems){elems=utils.makeArray(elems);var cells=[];for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];var cell=this.getCell(elem);if(cell){cells.push(cell)}}return cells};Flickity.prototype.getCellElements=function(){var cellElems=[];for(var i=0,len=this.cells.length;i<len;i++){cellElems.push(this.cells[i].element)}return cellElems};Flickity.prototype.getParentCell=function(elem){var cell=this.getCell(elem);if(cell){return cell}elem=utils.getParent(elem,'.flickity-slider > *');return this.getCell(elem)};Flickity.prototype.getAdjacentCellElements=function(adjCount,index){if(!adjCount){return[this.selectedElement]}index=index===undefined?this.selectedIndex:index;var len=this.cells.length;if(1+(adjCount*2)>=len){return this.getCellElements()}var cellElems=[];for(var i=index-adjCount;i<=index+adjCount;i++){var cellIndex=this.options.wrapAround?utils.modulo(i,len):i;var cell=this.cells[cellIndex];if(cell){cellElems.push(cell.element)}}return cellElems};Flickity.prototype.uiChange=function(){this.emit('uiChange')};Flickity.prototype.childUIPointerDown=function(event){this.emitEvent('childUIPointerDown',[event])};Flickity.prototype.onresize=function(){this.watchCSS();this.resize()};utils.debounceMethod(Flickity,'onresize',150);Flickity.prototype.resize=function(){if(!this.isActive){return}this.getSize();if(this.options.wrapAround){this.x=utils.modulo(this.x,this.slideableWidth)}this.positionCells();this._getWrapShiftCells();this.setGallerySize();this.positionSliderAtSelected()};var supportsConditionalCSS=Flickity.supportsConditionalCSS=(function(){var supports;return function checkSupport(){if(supports!==undefined){return supports}if(!getComputedStyle){supports=false;return}var style=document.createElement('style');var cssText=document.createTextNode('body:after { content: "foo"; display: none; }');style.appendChild(cssText);document.head.appendChild(style);var afterContent=getComputedStyle(document.body,':after').content;supports=afterContent.indexOf('foo')!=-1;document.head.removeChild(style);return supports}})();Flickity.prototype.watchCSS=function(){var watchOption=this.options.watchCSS;if(!watchOption){return}var supports=supportsConditionalCSS();if(!supports){var method=watchOption=='fallbackOn'?'activate':'deactivate';this[method]();return}var afterContent=getComputedStyle(this.element,':after').content;if(afterContent.indexOf('flickity')!=-1){this.activate()}else{this.deactivate()}};Flickity.prototype.onkeydown=function(event){if(!this.options.accessibility||(document.activeElement&&document.activeElement!=this.element)){return}if(event.keyCode==37){var leftMethod=this.options.rightToLeft?'next':'previous';this.uiChange();this[leftMethod]()}else if(event.keyCode==39){var rightMethod=this.options.rightToLeft?'previous':'next';this.uiChange();this[rightMethod]()}};Flickity.prototype.deactivate=function(){if(!this.isActive){return}classie.remove(this.element,'flickity-enabled');classie.remove(this.element,'flickity-rtl');for(var i=0,len=this.cells.length;i<len;i++){var cell=this.cells[i];cell.destroy()}this._removeSelectedCellClass();this.element.removeChild(this.viewport);moveElements(this.slider.children,this.element);if(this.options.accessibility){this.element.removeAttribute('tabIndex');eventie.unbind(this.element,'keydown',this)}this.isActive=false;this.emit('deactivate')};Flickity.prototype.destroy=function(){this.deactivate();if(this.isResizeBound){eventie.unbind(window,'resize',this)}this.emit('destroy');if(jQuery&&this.$element){jQuery.removeData(this.element,'flickity')}delete this.element.flickityGUID;delete instances[this.guid]};utils.extend(Flickity.prototype,animatePrototype);var isIE8='attachEvent'in window;Flickity.setUnselectable=function(elem){if(!isIE8){return}elem.setAttribute('unselectable','on')};Flickity.data=function(elem){elem=utils.getQueryElement(elem);var id=elem&&elem.flickityGUID;return id&&instances[id]};utils.htmlInit(Flickity,'flickity');if(jQuery&&jQuery.bridget){jQuery.bridget('flickity',Flickity)}Flickity.Cell=Cell;return Flickity}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('unipointer/unipointer',['eventEmitter/EventEmitter','eventie/eventie'],function(EventEmitter,eventie){return factory(window,EventEmitter,eventie)})}else if(typeof exports=='object'){module.exports=factory(window,require('wolfy87-eventemitter'),require('eventie'))}else{window.Unipointer=factory(window,window.EventEmitter,window.eventie)}}(window,function factory(window,EventEmitter,eventie){function noop(){}function Unipointer(){}Unipointer.prototype=new EventEmitter();Unipointer.prototype.bindStartEvent=function(elem){this._bindStartEvent(elem,true)};Unipointer.prototype.unbindStartEvent=function(elem){this._bindStartEvent(elem,false)};Unipointer.prototype._bindStartEvent=function(elem,isBind){isBind=isBind===undefined?true:!!isBind;var bindMethod=isBind?'bind':'unbind';if(window.navigator.pointerEnabled){eventie[bindMethod](elem,'pointerdown',this)}else if(window.navigator.msPointerEnabled){eventie[bindMethod](elem,'MSPointerDown',this)}else{eventie[bindMethod](elem,'mousedown',this);eventie[bindMethod](elem,'touchstart',this)}};Unipointer.prototype.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event)}};Unipointer.prototype.getTouch=function(touches){for(var i=0,len=touches.length;i<len;i++){var touch=touches[i];if(touch.identifier==this.pointerIdentifier){return touch}}};Unipointer.prototype.onmousedown=function(event){var button=event.button;if(button&&(button!==0&&button!==1)){return}this._pointerDown(event,event)};Unipointer.prototype.ontouchstart=function(event){this._pointerDown(event,event.changedTouches[0])};Unipointer.prototype.onMSPointerDown=Unipointer.prototype.onpointerdown=function(event){this._pointerDown(event,event)};Unipointer.prototype._pointerDown=function(event,pointer){if(this.isPointerDown){return}this.isPointerDown=true;this.pointerIdentifier=pointer.pointerId!==undefined?pointer.pointerId:pointer.identifier;this.pointerDown(event,pointer)};Unipointer.prototype.pointerDown=function(event,pointer){this._bindPostStartEvents(event);this.emitEvent('pointerDown',[event,pointer])};var postStartEvents={mousedown:['mousemove','mouseup'],touchstart:['touchmove','touchend','touchcancel'],pointerdown:['pointermove','pointerup','pointercancel'],MSPointerDown:['MSPointerMove','MSPointerUp','MSPointerCancel']};Unipointer.prototype._bindPostStartEvents=function(event){if(!event){return}var events=postStartEvents[event.type];var node=event.preventDefault?window:document;for(var i=0,len=events.length;i<len;i++){var evnt=events[i];eventie.bind(node,evnt,this)}this._boundPointerEvents={events:events,node:node}};Unipointer.prototype._unbindPostStartEvents=function(){var args=this._boundPointerEvents;if(!args||!args.events){return}for(var i=0,len=args.events.length;i<len;i++){var event=args.events[i];eventie.unbind(args.node,event,this)}delete this._boundPointerEvents};Unipointer.prototype.onmousemove=function(event){this._pointerMove(event,event)};Unipointer.prototype.onMSPointerMove=Unipointer.prototype.onpointermove=function(event){if(event.pointerId==this.pointerIdentifier){this._pointerMove(event,event)}};Unipointer.prototype.ontouchmove=function(event){var touch=this.getTouch(event.changedTouches);if(touch){this._pointerMove(event,touch)}};Unipointer.prototype._pointerMove=function(event,pointer){this.pointerMove(event,pointer)};Unipointer.prototype.pointerMove=function(event,pointer){this.emitEvent('pointerMove',[event,pointer])};Unipointer.prototype.onmouseup=function(event){this._pointerUp(event,event)};Unipointer.prototype.onMSPointerUp=Unipointer.prototype.onpointerup=function(event){if(event.pointerId==this.pointerIdentifier){this._pointerUp(event,event)}};Unipointer.prototype.ontouchend=function(event){var touch=this.getTouch(event.changedTouches);if(touch){this._pointerUp(event,touch)}};Unipointer.prototype._pointerUp=function(event,pointer){this._pointerDone();this.pointerUp(event,pointer)};Unipointer.prototype.pointerUp=function(event,pointer){this.emitEvent('pointerUp',[event,pointer])};Unipointer.prototype._pointerDone=function(){this.isPointerDown=false;delete this.pointerIdentifier;this._unbindPostStartEvents();this.pointerDone()};Unipointer.prototype.pointerDone=noop;Unipointer.prototype.onMSPointerCancel=Unipointer.prototype.onpointercancel=function(event){if(event.pointerId==this.pointerIdentifier){this._pointerCancel(event,event)}};Unipointer.prototype.ontouchcancel=function(event){var touch=this.getTouch(event.changedTouches);if(touch){this._pointerCancel(event,touch)}};Unipointer.prototype._pointerCancel=function(event,pointer){this._pointerDone();this.pointerCancel(event,pointer)};Unipointer.prototype.pointerCancel=function(event,pointer){this.emitEvent('pointerCancel',[event,pointer])};Unipointer.getPointerPoint=function(pointer){return{x:pointer.pageX!==undefined?pointer.pageX:pointer.clientX,y:pointer.pageY!==undefined?pointer.pageY:pointer.clientY}};return Unipointer}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('unidragger/unidragger',['eventie/eventie','unipointer/unipointer'],function(eventie,Unipointer){return factory(window,eventie,Unipointer)})}else if(typeof exports=='object'){module.exports=factory(window,require('eventie'),require('unipointer'))}else{window.Unidragger=factory(window,window.eventie,window.Unipointer)}}(window,function factory(window,eventie,Unipointer){function noop(){}function preventDefaultEvent(event){if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}}function Unidragger(){}Unidragger.prototype=new Unipointer();Unidragger.prototype.bindHandles=function(){this._bindHandles(true)};Unidragger.prototype.unbindHandles=function(){this._bindHandles(false)};var navigator=window.navigator;Unidragger.prototype._bindHandles=function(isBind){isBind=isBind===undefined?true:!!isBind;var binderExtra;if(navigator.pointerEnabled){binderExtra=function(handle){handle.style.touchAction=isBind?'none':''}}else if(navigator.msPointerEnabled){binderExtra=function(handle){handle.style.msTouchAction=isBind?'none':''}}else{binderExtra=function(){if(isBind){disableImgOndragstart(handle)}}}var bindMethod=isBind?'bind':'unbind';for(var i=0,len=this.handles.length;i<len;i++){var handle=this.handles[i];this._bindStartEvent(handle,isBind);binderExtra(handle);eventie[bindMethod](handle,'click',this)}};function noDragStart(){return false}var isIE8='attachEvent'in document.documentElement;var disableImgOndragstart=!isIE8?noop:function(handle){if(handle.nodeName=='IMG'){handle.ondragstart=noDragStart}var images=handle.querySelectorAll('img');for(var i=0,len=images.length;i<len;i++){var img=images[i];img.ondragstart=noDragStart}};Unidragger.prototype.pointerDown=function(event,pointer){if(event.target.nodeName=='INPUT'&&event.target.type=='range'){this.isPointerDown=false;delete this.pointerIdentifier;return}this._dragPointerDown(event,pointer);var focused=document.activeElement;if(focused&&focused.blur){focused.blur()}this._bindPostStartEvents(event);this.pointerDownScroll=Unidragger.getScrollPosition();eventie.bind(window,'scroll',this);this.emitEvent('pointerDown',[event,pointer])};Unidragger.prototype._dragPointerDown=function(event,pointer){this.pointerDownPoint=Unipointer.getPointerPoint(pointer);var isTouchstart=event.type=='touchstart';var targetNodeName=event.target.nodeName;if(!isTouchstart&&targetNodeName!='SELECT'){preventDefaultEvent(event)}};Unidragger.prototype.pointerMove=function(event,pointer){var moveVector=this._dragPointerMove(event,pointer);this.emitEvent('pointerMove',[event,pointer,moveVector]);this._dragMove(event,pointer,moveVector)};Unidragger.prototype._dragPointerMove=function(event,pointer){var movePoint=Unipointer.getPointerPoint(pointer);var moveVector={x:movePoint.x-this.pointerDownPoint.x,y:movePoint.y-this.pointerDownPoint.y};if(!this.isDragging&&this.hasDragStarted(moveVector)){this._dragStart(event,pointer)}return moveVector};Unidragger.prototype.hasDragStarted=function(moveVector){return Math.abs(moveVector.x)>3||Math.abs(moveVector.y)>3};Unidragger.prototype.pointerUp=function(event,pointer){this.emitEvent('pointerUp',[event,pointer]);this._dragPointerUp(event,pointer)};Unidragger.prototype._dragPointerUp=function(event,pointer){if(this.isDragging){this._dragEnd(event,pointer)}else{this._staticClick(event,pointer)}};Unidragger.prototype.pointerDone=function(){eventie.unbind(window,'scroll',this)};Unidragger.prototype._dragStart=function(event,pointer){this.isDragging=true;this.dragStartPoint=Unidragger.getPointerPoint(pointer);this.isPreventingClicks=true;this.dragStart(event,pointer)};Unidragger.prototype.dragStart=function(event,pointer){this.emitEvent('dragStart',[event,pointer])};Unidragger.prototype._dragMove=function(event,pointer,moveVector){if(!this.isDragging){return}this.dragMove(event,pointer,moveVector)};Unidragger.prototype.dragMove=function(event,pointer,moveVector){preventDefaultEvent(event);this.emitEvent('dragMove',[event,pointer,moveVector])};Unidragger.prototype._dragEnd=function(event,pointer){this.isDragging=false;var _this=this;setTimeout(function(){delete _this.isPreventingClicks});this.dragEnd(event,pointer)};Unidragger.prototype.dragEnd=function(event,pointer){this.emitEvent('dragEnd',[event,pointer])};Unidragger.prototype.pointerDone=function(){eventie.unbind(window,'scroll',this);delete this.pointerDownScroll};Unidragger.prototype.onclick=function(event){if(this.isPreventingClicks){preventDefaultEvent(event)}};Unidragger.prototype._staticClick=function(event,pointer){if(this.isIgnoringMouseUp&&event.type=='mouseup'){return}var nodeName=event.target.nodeName;if(nodeName=='INPUT'||nodeName=='TEXTAREA'){event.target.focus()}this.staticClick(event,pointer);if(event.type!='mouseup'){this.isIgnoringMouseUp=true;var _this=this;setTimeout(function(){delete _this.isIgnoringMouseUp},400)}};Unidragger.prototype.staticClick=function(event,pointer){this.emitEvent('staticClick',[event,pointer])};Unidragger.prototype.onscroll=function(){var scroll=Unidragger.getScrollPosition();var scrollMoveX=this.pointerDownScroll.x-scroll.x;var scrollMoveY=this.pointerDownScroll.y-scroll.y;if(Math.abs(scrollMoveX)>3||Math.abs(scrollMoveY)>3){this._pointerDone()}};Unidragger.getPointerPoint=function(pointer){return{x:pointer.pageX!==undefined?pointer.pageX:pointer.clientX,y:pointer.pageY!==undefined?pointer.pageY:pointer.clientY}};var isPageOffset=window.pageYOffset!==undefined;Unidragger.getScrollPosition=function(){return{x:isPageOffset?window.pageXOffset:document.body.scrollLeft,y:isPageOffset?window.pageYOffset:document.body.scrollTop}};Unidragger.getPointerPoint=Unipointer.getPointerPoint;return Unidragger}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('flickity/js/drag',['classie/classie','eventie/eventie','./flickity','unidragger/unidragger','fizzy-ui-utils/utils'],function(classie,eventie,Flickity,Unidragger,utils){return factory(window,classie,eventie,Flickity,Unidragger,utils)})}else if(typeof exports=='object'){module.exports=factory(window,require('desandro-classie'),require('eventie'),require('./flickity'),require('unidragger'),require('fizzy-ui-utils'))}else{window.Flickity=factory(window,window.classie,window.eventie,window.Flickity,window.Unidragger,window.fizzyUIUtils)}}(window,function factory(window,classie,eventie,Flickity,Unidragger,utils){function preventDefaultEvent(event){if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}}utils.extend(Flickity.defaults,{draggable:true});Flickity.createMethods.push('_createDrag');utils.extend(Flickity.prototype,Unidragger.prototype);Flickity.prototype._createDrag=function(){this.on('activate',this.bindDrag);this.on('uiChange',this._uiChangeDrag);this.on('childUIPointerDown',this._childUIPointerDownDrag);this.on('deactivate',this.unbindDrag)};Flickity.prototype.bindDrag=function(){if(!this.options.draggable||this.isDragBound){return}classie.add(this.element,'is-draggable');this.handles=[this.viewport];this.bindHandles();this.isDragBound=true};Flickity.prototype.unbindDrag=function(){if(!this.isDragBound){return}classie.remove(this.element,'is-draggable');this.unbindHandles();delete this.isDragBound};Flickity.prototype._uiChangeDrag=function(){delete this.isFreeScrolling};Flickity.prototype._childUIPointerDownDrag=function(event){preventDefaultEvent(event);this.pointerDownFocus(event)};Flickity.prototype.pointerDown=function(event,pointer){if(event.target.nodeName=='INPUT'&&event.target.type=='range'){this.isPointerDown=false;delete this.pointerIdentifier;return}this._dragPointerDown(event,pointer);var focused=document.activeElement;if(focused&&focused.blur&&focused!=this.element&&focused!=document.body){focused.blur()}this.pointerDownFocus(event);this.dragX=this.x;classie.add(this.viewport,'is-pointer-down');this._bindPostStartEvents(event);this.pointerDownScroll=Unidragger.getScrollPosition();eventie.bind(window,'scroll',this);this.dispatchEvent('pointerDown',event,[pointer])};var touchStartEvents={touchstart:true,MSPointerDown:true};var focusNodes={INPUT:true,SELECT:true};Flickity.prototype.pointerDownFocus=function(event){if(!this.options.accessibility||touchStartEvents[event.type]||focusNodes[event.target.nodeName]){return}var prevScrollY=window.pageYOffset;this.element.focus();if(window.pageYOffset!=prevScrollY){window.scrollTo(window.pageXOffset,prevScrollY)}};Flickity.prototype.hasDragStarted=function(moveVector){return Math.abs(moveVector.x)>3};Flickity.prototype.pointerUp=function(event,pointer){classie.remove(this.viewport,'is-pointer-down');this.dispatchEvent('pointerUp',event,[pointer]);this._dragPointerUp(event,pointer)};Flickity.prototype.pointerDone=function(){eventie.unbind(window,'scroll',this);delete this.pointerDownScroll};Flickity.prototype.dragStart=function(event,pointer){this.dragStartPosition=this.x;this.startAnimation();this.dispatchEvent('dragStart',event,[pointer])};Flickity.prototype.dragMove=function(event,pointer,moveVector){preventDefaultEvent(event);this.previousDragX=this.dragX;var direction=this.options.rightToLeft?-1:1;var dragX=this.dragStartPosition+moveVector.x*direction;if(!this.options.wrapAround&&this.cells.length){var originBound=Math.max(-this.cells[0].target,this.dragStartPosition);dragX=dragX>originBound?(dragX+originBound)*0.5:dragX;var endBound=Math.min(-this.getLastCell().target,this.dragStartPosition);dragX=dragX<endBound?(dragX+endBound)*0.5:dragX}this.dragX=dragX;this.dragMoveTime=new Date();this.dispatchEvent('dragMove',event,[pointer,moveVector])};Flickity.prototype.dragEnd=function(event,pointer){if(this.options.freeScroll){this.isFreeScrolling=true}var index=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var restingX=this.getRestingPosition();this.isFreeScrolling=-restingX>this.cells[0].target&&-restingX<this.getLastCell().target}else if(!this.options.freeScroll&&index==this.selectedIndex){index+=this.dragEndBoostSelect()}delete this.previousDragX;this.select(index);this.dispatchEvent('dragEnd',event,[pointer])};Flickity.prototype.dragEndRestingSelect=function(){var restingX=this.getRestingPosition();var distance=Math.abs(this.getCellDistance(-restingX,this.selectedIndex));var positiveResting=this._getClosestResting(restingX,distance,1);var negativeResting=this._getClosestResting(restingX,distance,-1);var index=positiveResting.distance<negativeResting.distance?positiveResting.index:negativeResting.index;return index};Flickity.prototype._getClosestResting=function(restingX,distance,increment){var index=this.selectedIndex;var minDistance=Infinity;var condition=this.options.contain&&!this.options.wrapAround?function(d,md){return d<=md}:function(d,md){return d<md};while(condition(distance,minDistance)){index+=increment;minDistance=distance;distance=this.getCellDistance(-restingX,index);if(distance===null){break}distance=Math.abs(distance)}return{distance:minDistance,index:index-increment}};Flickity.prototype.getCellDistance=function(x,index){var len=this.cells.length;var isWrapAround=this.options.wrapAround&&len>1;var cellIndex=isWrapAround?utils.modulo(index,len):index;var cell=this.cells[cellIndex];if(!cell){return null}var wrap=isWrapAround?this.slideableWidth*Math.floor(index/len):0;return x-(cell.target+wrap)};Flickity.prototype.dragEndBoostSelect=function(){if(this.previousDragX===undefined||!this.dragMoveTime||new Date()-this.dragMoveTime>100){return 0}var distance=this.getCellDistance(-this.dragX,this.selectedIndex);var delta=this.previousDragX-this.dragX;if(distance>0&&delta>0){return 1}else if(distance<0&&delta<0){return-1}return 0};Flickity.prototype.staticClick=function(event,pointer){var clickedCell=this.getParentCell(event.target);var cellElem=clickedCell&&clickedCell.element;var cellIndex=clickedCell&&utils.indexOf(this.cells,clickedCell);this.dispatchEvent('staticClick',event,[pointer,cellElem,cellIndex])};return Flickity}));(function(window,factory){if(typeof define=='function'&&define.amd){define('tap-listener/tap-listener',['unipointer/unipointer'],function(Unipointer){return factory(window,Unipointer)})}else if(typeof exports=='object'){module.exports=factory(window,require('unipointer'))}else{window.TapListener=factory(window,window.Unipointer)}}(window,function factory(window,Unipointer){function TapListener(elem){this.bindTap(elem)}TapListener.prototype=new Unipointer();TapListener.prototype.bindTap=function(elem){if(!elem){return}this.unbindTap();this.tapElement=elem;this._bindStartEvent(elem,true)};TapListener.prototype.unbindTap=function(){if(!this.tapElement){return}this._bindStartEvent(this.tapElement,true);delete this.tapElement};var isPageOffset=window.pageYOffset!==undefined;TapListener.prototype.pointerUp=function(event,pointer){if(this.isIgnoringMouseUp&&event.type=='mouseup'){return}var pointerPoint=Unipointer.getPointerPoint(pointer);var boundingRect=this.tapElement.getBoundingClientRect();var scrollX=isPageOffset?window.pageXOffset:document.body.scrollLeft;var scrollY=isPageOffset?window.pageYOffset:document.body.scrollTop;var isInside=pointerPoint.x>=boundingRect.left+scrollX&&pointerPoint.x<=boundingRect.right+scrollX&&pointerPoint.y>=boundingRect.top+scrollY&&pointerPoint.y<=boundingRect.bottom+scrollY;if(isInside){this.emitEvent('tap',[event,pointer])}if(event.type!='mouseup'){this.isIgnoringMouseUp=true;setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),320)}};TapListener.prototype.destroy=function(){this.pointerDone();this.unbindTap()};return TapListener}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('flickity/js/prev-next-button',['eventie/eventie','./flickity','tap-listener/tap-listener','fizzy-ui-utils/utils'],function(eventie,Flickity,TapListener,utils){return factory(window,eventie,Flickity,TapListener,utils)})}else if(typeof exports=='object'){module.exports=factory(window,require('eventie'),require('./flickity'),require('tap-listener'),require('fizzy-ui-utils'))}else{factory(window,window.eventie,window.Flickity,window.TapListener,window.fizzyUIUtils)}}(window,function factory(window,eventie,Flickity,TapListener,utils){var svgURI='http://www.w3.org/2000/svg';var supportsInlineSVG=(function(){var supports;function checkSupport(){if(supports!==undefined){return supports}var div=document.createElement('div');div.innerHTML='<svg/>';supports=(div.firstChild&&div.firstChild.namespaceURI)==svgURI;return supports}return checkSupport})();function PrevNextButton(direction,parent){this.direction=direction;this.parent=parent;this._create()}PrevNextButton.prototype=new TapListener();PrevNextButton.prototype._create=function(){this.isEnabled=true;this.isPrevious=this.direction==-1;var leftDirection=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==leftDirection;var element=this.element=document.createElement('button');element.className='flickity-prev-next-button';element.className+=this.isPrevious?' previous':' next';element.setAttribute('type','button');this.disable();element.setAttribute('aria-label',this.isPrevious?'previous':'next');Flickity.setUnselectable(element);if(supportsInlineSVG()){var svg=this.createSVG();element.appendChild(svg)}else{this.setArrowText();element.className+=' no-svg'}var _this=this;this.onCellSelect=function(){_this.update()};this.parent.on('cellSelect',this.onCellSelect);this.on('tap',this.onTap);this.on('pointerDown',function onPointerDown(button,event){_this.parent.childUIPointerDown(event)})};PrevNextButton.prototype.activate=function(){this.bindTap(this.element);eventie.bind(this.element,'click',this);this.parent.element.appendChild(this.element)};PrevNextButton.prototype.deactivate=function(){this.parent.element.removeChild(this.element);TapListener.prototype.destroy.call(this);eventie.unbind(this.element,'click',this)};PrevNextButton.prototype.createSVG=function(){var svg=document.createElementNS(svgURI,'svg');svg.setAttribute('viewBox','0 0 100 100');var path=document.createElementNS(svgURI,'path');var pathMovements=getArrowMovements(this.parent.options.arrowShape);path.setAttribute('d',pathMovements);path.setAttribute('class','arrow');if(!this.isLeft){path.setAttribute('transform','translate(100, 100) rotate(180) ')}svg.appendChild(path);return svg};function getArrowMovements(shape){if(typeof shape=='string'){return shape}return'M '+shape.x0+',50'+' L '+shape.x1+','+(shape.y1+50)+' L '+shape.x2+','+(shape.y2+50)+' L '+shape.x3+',50 '+' L '+shape.x2+','+(50-shape.y2)+' L '+shape.x1+','+(50-shape.y1)+' Z'}PrevNextButton.prototype.setArrowText=function(){var parentOptions=this.parent.options;var arrowText=this.isLeft?parentOptions.leftArrowText:parentOptions.rightArrowText;utils.setText(this.element,arrowText)};PrevNextButton.prototype.onTap=function(){if(!this.isEnabled){return}this.parent.uiChange();var method=this.isPrevious?'previous':'next';this.parent[method]()};PrevNextButton.prototype.handleEvent=utils.handleEvent;PrevNextButton.prototype.onclick=function(){var focused=document.activeElement;if(focused&&focused==this.element){this.onTap()}};PrevNextButton.prototype.enable=function(){if(this.isEnabled){return}this.element.disabled=false;this.isEnabled=true};PrevNextButton.prototype.disable=function(){if(!this.isEnabled){return}this.element.disabled=true;this.isEnabled=false};PrevNextButton.prototype.update=function(){var cells=this.parent.cells;if(this.parent.options.wrapAround&&cells.length>1){this.enable();return}var lastIndex=cells.length?cells.length-1:0;var boundIndex=this.isPrevious?0:lastIndex;var method=this.parent.selectedIndex==boundIndex?'disable':'enable';this[method]()};PrevNextButton.prototype.destroy=function(){this.deactivate()};utils.extend(Flickity.defaults,{prevNextButtons:true,leftArrowText:'‹',rightArrowText:'›',arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}});Flickity.createMethods.push('_createPrevNextButtons');Flickity.prototype._createPrevNextButtons=function(){if(!this.options.prevNextButtons){return}this.prevButton=new PrevNextButton(-1,this);this.nextButton=new PrevNextButton(1,this);this.on('activate',this.activatePrevNextButtons)};Flickity.prototype.activatePrevNextButtons=function(){this.prevButton.activate();this.nextButton.activate();this.on('deactivate',this.deactivatePrevNextButtons)};Flickity.prototype.deactivatePrevNextButtons=function(){this.prevButton.deactivate();this.nextButton.deactivate();this.off('deactivate',this.deactivatePrevNextButtons)};Flickity.PrevNextButton=PrevNextButton;return Flickity}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('flickity/js/page-dots',['eventie/eventie','./flickity','tap-listener/tap-listener','fizzy-ui-utils/utils'],function(eventie,Flickity,TapListener,utils){return factory(window,eventie,Flickity,TapListener,utils)})}else if(typeof exports=='object'){module.exports=factory(window,require('eventie'),require('./flickity'),require('tap-listener'),require('fizzy-ui-utils'))}else{factory(window,window.eventie,window.Flickity,window.TapListener,window.fizzyUIUtils)}}(window,function factory(window,eventie,Flickity,TapListener,utils){function PageDots(parent){this.parent=parent;this._create()}PageDots.prototype=new TapListener();PageDots.prototype._create=function(){this.holder=document.createElement('ol');this.holder.className='flickity-page-dots';Flickity.setUnselectable(this.holder);this.dots=[];var _this=this;this.onCellSelect=function(){_this.updateSelected()};this.parent.on('cellSelect',this.onCellSelect);this.on('tap',this.onTap);this.on('pointerDown',function onPointerDown(button,event){_this.parent.childUIPointerDown(event)})};PageDots.prototype.activate=function(){this.setDots();this.bindTap(this.holder);this.parent.element.appendChild(this.holder)};PageDots.prototype.deactivate=function(){this.parent.element.removeChild(this.holder);TapListener.prototype.destroy.call(this)};PageDots.prototype.setDots=function(){var delta=this.parent.cells.length-this.dots.length;if(delta>0){this.addDots(delta)}else if(delta<0){this.removeDots(-delta)}};PageDots.prototype.addDots=function(count){var fragment=document.createDocumentFragment();var newDots=[];while(count){var dot=document.createElement('li');dot.className='dot';fragment.appendChild(dot);newDots.push(dot);count--}this.holder.appendChild(fragment);this.dots=this.dots.concat(newDots)};PageDots.prototype.removeDots=function(count){var removeDots=this.dots.splice(this.dots.length-count,count);for(var i=0,len=removeDots.length;i<len;i++){var dot=removeDots[i];this.holder.removeChild(dot)}};PageDots.prototype.updateSelected=function(){if(this.selectedDot){this.selectedDot.className='dot'}if(!this.dots.length){return}this.selectedDot=this.dots[this.parent.selectedIndex];this.selectedDot.className='dot is-selected'};PageDots.prototype.onTap=function(event){var target=event.target;if(target.nodeName!='LI'){return}this.parent.uiChange();var index=utils.indexOf(this.dots,target);this.parent.select(index)};PageDots.prototype.destroy=function(){this.deactivate()};Flickity.PageDots=PageDots;utils.extend(Flickity.defaults,{pageDots:true});Flickity.createMethods.push('_createPageDots');Flickity.prototype._createPageDots=function(){if(!this.options.pageDots){return}this.pageDots=new PageDots(this);this.on('activate',this.activatePageDots);this.on('cellAddedRemoved',this.onCellAddedRemovedPageDots);this.on('deactivate',this.deactivatePageDots)};Flickity.prototype.activatePageDots=function(){this.pageDots.activate()};Flickity.prototype.onCellAddedRemovedPageDots=function(){this.pageDots.setDots()};Flickity.prototype.deactivatePageDots=function(){this.pageDots.deactivate()};Flickity.PageDots=PageDots;return Flickity}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('flickity/js/player',['eventEmitter/EventEmitter','eventie/eventie','fizzy-ui-utils/utils','./flickity'],function(EventEmitter,eventie,utils,Flickity){return factory(EventEmitter,eventie,utils,Flickity)})}else if(typeof exports=='object'){module.exports=factory(require('wolfy87-eventemitter'),require('eventie'),require('fizzy-ui-utils'),require('./flickity'))}else{factory(window.EventEmitter,window.eventie,window.fizzyUIUtils,window.Flickity)}}(window,function factory(EventEmitter,eventie,utils,Flickity){var hiddenProperty,visibilityEvent;if('hidden'in document){hiddenProperty='hidden';visibilityEvent='visibilitychange'}else if('webkitHidden'in document){hiddenProperty='webkitHidden';visibilityEvent='webkitvisibilitychange'}function Player(parent){this.parent=parent;this.state='stopped';if(visibilityEvent){var _this=this;this.onVisibilityChange=function(){_this.visibilityChange()}}}Player.prototype=new EventEmitter();Player.prototype.play=function(){if(this.state=='playing'){return}this.state='playing';if(visibilityEvent){document.addEventListener(visibilityEvent,this.onVisibilityChange,false)}this.tick()};Player.prototype.tick=function(){if(this.state!='playing'){return}var time=this.parent.options.autoPlay;time=typeof time=='number'?time:3000;var _this=this;this.clear();this.timeout=setTimeout(function(){_this.parent.next(true);_this.tick()},time)};Player.prototype.stop=function(){this.state='stopped';this.clear();if(visibilityEvent){document.removeEventListener(visibilityEvent,this.onVisibilityChange,false)}};Player.prototype.clear=function(){clearTimeout(this.timeout)};Player.prototype.pause=function(){if(this.state=='playing'){this.state='paused';this.clear()}};Player.prototype.unpause=function(){if(this.state=='paused'){this.play()}};Player.prototype.visibilityChange=function(){var isHidden=document[hiddenProperty];this[isHidden?'pause':'unpause']()};utils.extend(Flickity.defaults,{pauseAutoPlayOnHover:true});Flickity.createMethods.push('_createPlayer');Flickity.prototype._createPlayer=function(){this.player=new Player(this);this.on('activate',this.activatePlayer);this.on('uiChange',this.stopPlayer);this.on('pointerDown',this.stopPlayer);this.on('deactivate',this.deactivatePlayer)};Flickity.prototype.activatePlayer=function(){if(!this.options.autoPlay){return}this.player.play();eventie.bind(this.element,'mouseenter',this);this.isMouseenterBound=true};Flickity.prototype.playPlayer=function(){this.player.play()};Flickity.prototype.stopPlayer=function(){this.player.stop()};Flickity.prototype.pausePlayer=function(){this.player.pause()};Flickity.prototype.unpausePlayer=function(){this.player.unpause()};Flickity.prototype.deactivatePlayer=function(){this.player.stop();if(this.isMouseenterBound){eventie.unbind(this.element,'mouseenter',this);delete this.isMouseenterBound}};Flickity.prototype.onmouseenter=function(){if(!this.options.pauseAutoPlayOnHover){return}this.player.pause();eventie.bind(this.element,'mouseleave',this)};Flickity.prototype.onmouseleave=function(){this.player.unpause();eventie.unbind(this.element,'mouseleave',this)};Flickity.Player=Player;return Flickity}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('flickity/js/add-remove-cell',['./flickity','fizzy-ui-utils/utils'],function(Flickity,utils){return factory(window,Flickity,utils)})}else if(typeof exports=='object'){module.exports=factory(window,require('./flickity'),require('fizzy-ui-utils'))}else{factory(window,window.Flickity,window.fizzyUIUtils)}}(window,function factory(window,Flickity,utils){function getCellsFragment(cells){var fragment=document.createDocumentFragment();for(var i=0,len=cells.length;i<len;i++){var cell=cells[i];fragment.appendChild(cell.element)}return fragment}Flickity.prototype.insert=function(elems,index){var cells=this._makeCells(elems);if(!cells||!cells.length){return}var len=this.cells.length;index=index===undefined?len:index;var fragment=getCellsFragment(cells);var isAppend=index==len;if(isAppend){this.slider.appendChild(fragment)}else{var insertCellElement=this.cells[index].element;this.slider.insertBefore(fragment,insertCellElement)}if(index===0){this.cells=cells.concat(this.cells)}else if(isAppend){this.cells=this.cells.concat(cells)}else{var endCells=this.cells.splice(index,len-index);this.cells=this.cells.concat(cells).concat(endCells)}this._sizeCells(cells);var selectedIndexDelta=index>this.selectedIndex?0:cells.length;this._cellAddedRemoved(index,selectedIndexDelta)};Flickity.prototype.append=function(elems){this.insert(elems,this.cells.length)};Flickity.prototype.prepend=function(elems){this.insert(elems,0)};Flickity.prototype.remove=function(elems){var cells=this.getCells(elems);var selectedIndexDelta=0;var i,len,cell;for(i=0,len=cells.length;i<len;i++){cell=cells[i];var wasBefore=utils.indexOf(this.cells,cell)<this.selectedIndex;selectedIndexDelta-=wasBefore?1:0}for(i=0,len=cells.length;i<len;i++){cell=cells[i];cell.remove();utils.removeFrom(this.cells,cell)}if(cells.length){this._cellAddedRemoved(0,selectedIndexDelta)}};Flickity.prototype._cellAddedRemoved=function(changedCellIndex,selectedIndexDelta){selectedIndexDelta=selectedIndexDelta||0;this.selectedIndex+=selectedIndexDelta;this.selectedIndex=Math.max(0,Math.min(this.cells.length-1,this.selectedIndex));this.emitEvent('cellAddedRemoved',[changedCellIndex,selectedIndexDelta]);this.cellChange(changedCellIndex,true)};Flickity.prototype.cellSizeChange=function(elem){var cell=this.getCell(elem);if(!cell){return}cell.getSize();var index=utils.indexOf(this.cells,cell);this.cellChange(index)};Flickity.prototype.cellChange=function(changedCellIndex,isPositioningSlider){var prevSlideableWidth=this.slideableWidth;this._positionCells(changedCellIndex);this._getWrapShiftCells();this.setGallerySize();if(this.options.freeScroll){var deltaX=prevSlideableWidth-this.slideableWidth;this.x+=deltaX*this.cellAlign;this.positionSlider()}else{if(isPositioningSlider){this.positionSliderAtSelected()}this.select(this.selectedIndex)}};return Flickity}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('flickity/js/lazyload',['classie/classie','eventie/eventie','./flickity','fizzy-ui-utils/utils'],function(classie,eventie,Flickity,utils){return factory(window,classie,eventie,Flickity,utils)})}else if(typeof exports=='object'){module.exports=factory(window,require('desandro-classie'),require('eventie'),require('./flickity'),require('fizzy-ui-utils'))}else{factory(window,window.classie,window.eventie,window.Flickity,window.fizzyUIUtils)}}(window,function factory(window,classie,eventie,Flickity,utils){'use strict';Flickity.createMethods.push('_createLazyload');Flickity.prototype._createLazyload=function(){this.on('cellSelect',this.lazyLoad)};Flickity.prototype.lazyLoad=function(){var lazyLoad=this.options.lazyLoad;if(!lazyLoad){return}var adjCount=typeof lazyLoad=='number'?lazyLoad:0;var cellElems=this.getAdjacentCellElements(adjCount);var lazyImages=[];for(var i=0,len=cellElems.length;i<len;i++){var cellElem=cellElems[i];var lazyCellImages=getCellLazyImages(cellElem);lazyImages=lazyImages.concat(lazyCellImages)}for(i=0,len=lazyImages.length;i<len;i++){var img=lazyImages[i];new LazyLoader(img,this)}};function getCellLazyImages(cellElem){if(cellElem.nodeName=='IMG'&&cellElem.getAttribute('data-flickity-lazyload')){return[cellElem]}var imgs=cellElem.querySelectorAll('img[data-flickity-lazyload]');return utils.makeArray(imgs)}function LazyLoader(img,flickity){this.img=img;this.flickity=flickity;this.load()}LazyLoader.prototype.handleEvent=utils.handleEvent;LazyLoader.prototype.load=function(){eventie.bind(this.img,'load',this);eventie.bind(this.img,'error',this);this.img.src=this.img.getAttribute('data-flickity-lazyload');this.img.removeAttribute('data-flickity-lazyload')};LazyLoader.prototype.onload=function(event){this.complete(event,'flickity-lazyloaded')};LazyLoader.prototype.onerror=function(event){this.complete(event,'flickity-lazyerror')};LazyLoader.prototype.complete=function(event,className){eventie.unbind(this.img,'load',this);eventie.unbind(this.img,'error',this);var cell=this.flickity.getParentCell(this.img);var cellElem=cell&&cell.element;this.flickity.cellSizeChange(cellElem);classie.add(this.img,className);this.flickity.dispatchEvent('lazyLoad',event,cellElem)};Flickity.LazyLoader=LazyLoader;return Flickity}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('flickity/js/index',['./flickity','./drag','./prev-next-button','./page-dots','./player','./add-remove-cell','./lazyload'],factory)}else if(typeof exports=='object'){module.exports=factory(require('./flickity'),require('./drag'),require('./prev-next-button'),require('./page-dots'),require('./player'),require('./add-remove-cell'),require('./lazyload'))}})(window,function factory(Flickity){return Flickity});(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('flickity-as-nav-for/as-nav-for',['classie/classie','flickity/js/index','fizzy-ui-utils/utils'],function(classie,Flickity,utils){return factory(window,classie,Flickity,utils)})}else if(typeof exports=='object'){module.exports=factory(window,require('desandro-classie'),require('flickity'),require('fizzy-ui-utils'))}else{window.Flickity=factory(window,window.classie,window.Flickity,window.fizzyUIUtils)}}(window,function factory(window,classie,Flickity,utils){Flickity.createMethods.push('_createAsNavFor');Flickity.prototype._createAsNavFor=function(){this.on('activate',this.activateAsNavFor);this.on('deactivate',this.deactivateAsNavFor);this.on('destroy',this.destroyAsNavFor);var asNavForOption=this.options.asNavFor;if(!asNavForOption){return}var _this=this;setTimeout(function initNavCompanion(){_this.setNavCompanion(asNavForOption)})};Flickity.prototype.setNavCompanion=function(elem){elem=utils.getQueryElement(elem);var companion=Flickity.data(elem);if(!companion||companion==this){return}this.navCompanion=companion;var _this=this;this.onNavCompanionSelect=function(){_this.navCompanionSelect()};companion.on('cellSelect',this.onNavCompanionSelect);this.on('staticClick',this.onNavStaticClick);this.navCompanionSelect()};Flickity.prototype.navCompanionSelect=function(){if(!this.navCompanion){return}var index=this.navCompanion.selectedIndex;this.select(index);this.removeNavSelectedElement();if(this.selectedIndex!=index){return}this.navSelectedElement=this.cells[index].element;classie.add(this.navSelectedElement,'is-nav-selected')};Flickity.prototype.activateAsNavFor=function(){this.navCompanionSelect()};Flickity.prototype.removeNavSelectedElement=function(){if(!this.navSelectedElement){return}classie.remove(this.navSelectedElement,'is-nav-selected');delete this.navSelectedElement};Flickity.prototype.onNavStaticClick=function(event,pointer,cellElement,cellIndex){if(typeof cellIndex=='number'){this.navCompanion.select(cellIndex)}};Flickity.prototype.deactivateAsNavFor=function(){this.removeNavSelectedElement()};Flickity.prototype.destroyAsNavFor=function(){if(!this.navCompanion){return}this.navCompanion.off('cellSelect',this.onNavCompanionSelect);this.off('staticClick',this.onNavStaticClick);delete this.navCompanion};return Flickity}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('imagesloaded/imagesloaded',['eventEmitter/EventEmitter','eventie/eventie'],function(EventEmitter,eventie){return factory(window,EventEmitter,eventie)})}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('wolfy87-eventemitter'),require('eventie'))}else{window.imagesLoaded=factory(window,window.EventEmitter,window.eventie)}})(window,function factory(window,EventEmitter,eventie){var $=window.jQuery;var console=window.console;function extend(a,b){for(var prop in b){a[prop]=b[prop]}return a}var objToString=Object.prototype.toString;function isArray(obj){return objToString.call(obj)=='[object Array]'}function makeArray(obj){var ary=[];if(isArray(obj)){ary=obj}else if(typeof obj.length=='number'){for(var i=0;i<obj.length;i++){ary.push(obj[i])}}else{ary.push(obj)}return ary}function ImagesLoaded(elem,options,onAlways){if(!(this instanceof ImagesLoaded)){return new ImagesLoaded(elem,options,onAlways)}if(typeof elem=='string'){elem=document.querySelectorAll(elem)}this.elements=makeArray(elem);this.options=extend({},this.options);if(typeof options=='function'){onAlways=options}else{extend(this.options,options)}if(onAlways){this.on('always',onAlways)}this.getImages();if($){this.jqDeferred=new $.Deferred()}var _this=this;setTimeout(function(){_this.check()})}ImagesLoaded.prototype=new EventEmitter();ImagesLoaded.prototype.options={};ImagesLoaded.prototype.getImages=function(){this.images=[];for(var i=0;i<this.elements.length;i++){var elem=this.elements[i];this.addElementImages(elem)}};ImagesLoaded.prototype.addElementImages=function(elem){if(elem.nodeName=='IMG'){this.addImage(elem)}if(this.options.background===true){this.addElementBackgroundImages(elem)}var nodeType=elem.nodeType;if(!nodeType||!elementNodeTypes[nodeType]){return}var childImgs=elem.querySelectorAll('img');for(var i=0;i<childImgs.length;i++){var img=childImgs[i];this.addImage(img)}if(typeof this.options.background=='string'){var children=elem.querySelectorAll(this.options.background);for(i=0;i<children.length;i++){var child=children[i];this.addElementBackgroundImages(child)}}};var elementNodeTypes={1:true,9:true,11:true};ImagesLoaded.prototype.addElementBackgroundImages=function(elem){var style=getStyle(elem);var reURL=/url\(['"]*([^'"\)]+)['"]*\)/gi;var matches=reURL.exec(style.backgroundImage);while(matches!==null){var url=matches&&matches[1];if(url){this.addBackground(url,elem)}matches=reURL.exec(style.backgroundImage)}};var getStyle=window.getComputedStyle||function(elem){return elem.currentStyle};ImagesLoaded.prototype.addImage=function(img){var loadingImage=new LoadingImage(img);this.images.push(loadingImage)};ImagesLoaded.prototype.addBackground=function(url,elem){var background=new Background(url,elem);this.images.push(background)};ImagesLoaded.prototype.check=function(){var _this=this;this.progressedCount=0;this.hasAnyBroken=false;if(!this.images.length){this.complete();return}function onProgress(image,elem,message){setTimeout(function(){_this.progress(image,elem,message)})}for(var i=0;i<this.images.length;i++){var loadingImage=this.images[i];loadingImage.once('progress',onProgress);loadingImage.check()}};ImagesLoaded.prototype.progress=function(image,elem,message){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!image.isLoaded;this.emit('progress',this,image,elem);if(this.jqDeferred&&this.jqDeferred.notify){this.jqDeferred.notify(this,image)}if(this.progressedCount==this.images.length){this.complete()}if(this.options.debug&&console){console.log('progress: '+message,image,elem)}};ImagesLoaded.prototype.complete=function(){var eventName=this.hasAnyBroken?'fail':'done';this.isComplete=true;this.emit(eventName,this);this.emit('always',this);if(this.jqDeferred){var jqMethod=this.hasAnyBroken?'reject':'resolve';this.jqDeferred[jqMethod](this)}};function LoadingImage(img){this.img=img}LoadingImage.prototype=new EventEmitter();LoadingImage.prototype.check=function(){var isComplete=this.getIsImageComplete();if(isComplete){this.confirm(this.img.naturalWidth!==0,'naturalWidth');return}this.proxyImage=new Image();eventie.bind(this.proxyImage,'load',this);eventie.bind(this.proxyImage,'error',this);eventie.bind(this.img,'load',this);eventie.bind(this.img,'error',this);this.proxyImage.src=this.img.src};LoadingImage.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth!==undefined};LoadingImage.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded;this.emit('progress',this,this.img,message)};LoadingImage.prototype.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event)}};LoadingImage.prototype.onload=function(){this.confirm(true,'onload');this.unbindEvents()};LoadingImage.prototype.onerror=function(){this.confirm(false,'onerror');this.unbindEvents()};LoadingImage.prototype.unbindEvents=function(){eventie.unbind(this.proxyImage,'load',this);eventie.unbind(this.proxyImage,'error',this);eventie.unbind(this.img,'load',this);eventie.unbind(this.img,'error',this)};function Background(url,element){this.url=url;this.element=element;this.img=new Image()}Background.prototype=new LoadingImage();Background.prototype.check=function(){eventie.bind(this.img,'load',this);eventie.bind(this.img,'error',this);this.img.src=this.url;var isComplete=this.getIsImageComplete();if(isComplete){this.confirm(this.img.naturalWidth!==0,'naturalWidth');this.unbindEvents()}};Background.prototype.unbindEvents=function(){eventie.unbind(this.img,'load',this);eventie.unbind(this.img,'error',this)};Background.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded;this.emit('progress',this,this.element,message)};ImagesLoaded.makeJQueryPlugin=function(jQuery){jQuery=jQuery||window.jQuery;if(!jQuery){return}$=jQuery;$.fn.imagesLoaded=function(options,callback){var instance=new ImagesLoaded(this,options,callback);return instance.jqDeferred.promise($(this))}};ImagesLoaded.makeJQueryPlugin();return ImagesLoaded});(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define(['flickity/js/index','imagesloaded/imagesloaded'],function(Flickity,imagesLoaded){return factory(window,Flickity,imagesLoaded)})}else if(typeof exports=='object'){module.exports=factory(window,require('flickity'),require('imagesloaded'))}else{window.Flickity=factory(window,window.Flickity,window.imagesLoaded)}}(window,function factory(window,Flickity,imagesLoaded){'use strict';Flickity.createMethods.push('_createImagesLoaded');Flickity.prototype._createImagesLoaded=function(){this.on('activate',this.imagesLoaded)};Flickity.prototype.imagesLoaded=function(){if(!this.options.imagesLoaded){return}var _this=this;function onImagesLoadedProgress(instance,image){var cell=_this.getParentCell(image.img);_this.cellSizeChange(cell&&cell.element);if(!_this.options.freeScroll){_this.positionSliderAtSelected()}}imagesLoaded(this.slider).on('progress',onImagesLoadedProgress)};return Flickity}));